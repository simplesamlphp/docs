<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="Content-Language" content="en" />

	<!-- JQuery -->
	<!-- 
	<script type="text/javascript" src="/res/js/jquery.js"></script>
	<script type="text/javascript" src="/res/js/jquery-ui.js"></script>
	-->

	<style>
	  mark {
        background: orange;
        color: black;
      }
    </style>  

	
	<!-- Foodle: CSS -->	
	<link rel="stylesheet" media="screen" type="text/css" href="/res/js/uitheme/jquery-ui-themeroller.css" /> 
	<link rel="stylesheet" media="screen" type="text/css" href="/res/css/style.css" /> 
	<link rel="stylesheet" media="screen" type="text/css" href="/res/css/layout.css" /> 

	<title>SimpleSAMLphp Documentation</title> 
</head>





<body><!-- Red logo header --><div id="header">	<div id="logo"><a href="https://simplesamlphp.org" style="color: #fff; text-decoration: none" target="_blank">SimpleSAMLphp</a></div></div><!-- Grey header bar below --><div id="headerbar" style="clear: both"><div id="langbar" style="clar: both"><div id="navigation">Documentation is available for the following versions: <a href="../latest/index.html">latest</a> | <a href="../1.19/index.html">1.19</a> | <a href="../1.18/index.html">1.18</a> | <a href="../1.17/index.html">1.17</a> |  modules</div></div><br style="height: 0px; clear: both" /></div><!-- /#headerbar --><div id="content"><h1>
 AuthCrypt
</h1>
<p>
 This module provides two methods for authentication:
</p>
<p>
 <code>
  authcrypt:Hash
 </code>
 : Username &amp; password authentication with hashed passwords.
</p>
<p>
 <code>
  authcrypt:Htpasswd
 </code>
 : Username &amp; password authentication against an
 <code>
  .htpasswd
 </code>
 file.
</p>
<h2>
 <code>
  authcrypt:Hash
 </code>
</h2>
<p>
 This is based on
 <code>
  exampleAuth:UserPass
 </code>
 , and adds support for hashed passwords.
Hashes can be generated with the included command line tool
 <code>
  bin/pwgen.sh
 </code>
 .
This tool will interactively ask for a password, a hashing algorithm , and whether or not you want to use a salt:
</p>
<pre><code>  [user@server simplesamlphp]$ bin/pwgen.php
  Enter password: hackme
  The following hashing algorithms are available:
  md2          md4          md5          sha1         sha224       sha256
  sha384       sha512       ripemd128    ripemd160    ripemd256    ripemd320
  whirlpool    tiger128,3   tiger160,3   tiger192,3   tiger128,4   tiger160,4
  tiger192,4   snefru       snefru256    gost         adler32      crc32
  crc32b       salsa10      salsa20      haval128,3   haval160,3   haval192,3
  haval224,3   haval256,3   haval128,4   haval160,4   haval192,4   haval224,4
  haval256,4   haval128,5   haval160,5   haval192,5   haval224,5   haval256,5

  Which one do you want? [sha256]
  Do you want to use a salt? (yes/no) [yes]

    {SSHA256}y1mj3xsZ4/+LoQyPNVJzXUFfBcLHfwcHx1xxltxeQ1C5MeyEX/RxWA==
</code></pre>
<p>
 Now create an authentication source in
 <code>
  config/authsources.php
 </code>
 and use the resulting string as the password:
</p>
<pre><code>  'example-hashed' =&gt; array(
      'authCrypt:Hash',
      'student:{SSHA256}y1mj3xsZ4/+LoQyPNVJzXUFfBcLHfwcHx1xxltxeQ1C5MeyEX/RxWA==' =&gt; array(
          'uid' =&gt; array('student'),
          'eduPersonAffiliation' =&gt; array('member', 'student'),
          ),
  ),
</code></pre>
<p>
 This example creates a user
 <code>
  student
 </code>
 with password
 <code>
  hackme
 </code>
 , and some attributes.
</p>
<h3>
 Compatibility
</h3>
<p>
 The generated hashes can also be used in
 <code>
  config.php
 </code>
 for the administrative password:
</p>
<pre><code>  'auth.adminpassword'        =&gt; '{SSHA256}y1mj3xsZ4/+LoQyPNVJzXUFfBcLHfwcHx1xxltxeQ1C5MeyEX/RxWA==',
</code></pre>
<p>
 Instead of generating hashes, you can also use existing ones from OpenLDAP, provided that the
 <code>
  userPassword
 </code>
 attribute is stored as MD5, SMD5, SHA, or SSHA.
</p>
<h2>
 <code>
  authCrypt:Htpasswd
 </code>
</h2>
<p>
 Authenticate users against an
 <a href="http://httpd.apache.org/docs/2.2/programs/htpasswd.html">
  <code>
   .htpasswd
  </code>
 </a>
 file. It can be used for example when you migrate a web site from basic HTTP authentication to SimpleSAMLphp.
</p>
<p>
 The simple structure of the
 <code>
  .htpasswd
 </code>
 file does not allow for per-user attributes, but you can define some static attributes for all users.
</p>
<p>
 An example authentication source in
 <code>
  config/authsources.php
 </code>
 could look like this:
</p>
<pre><code>  'htpasswd' =&gt; array(
      'authcrypt:Htpasswd',
          'htpasswd_file' =&gt; '/var/www/foo.edu/legacy_app/.htpasswd',
          'static_attributes' =&gt; array(
              'eduPersonAffiliation' =&gt; array('member', 'employee'),
              'Organization' =&gt; array('University of Foo'),
      ),
  ),
</code></pre></div>    <!-- /#content -->

<div id="footer">
    <a href="https://www.uninett.no/"><img id="ulogo" alt="notes" src="/res/uninettlogo.png" /SS></a>
</div><!-- /#footer -->

</body>
</html>
